q2

//Create unnamed pipe. Child process write messages to pipe and parent read and display them

#include <stdio.h>
#include <string.h>
#include <unistd.h>

void main()
{
  char msg1[]="Hello World!";
  char msg2[]="Hello SPPU!";
  char msg3[]="Linux is Funny!";
  char buf[20];
  int fds[2];
  pipe(fds);
  int pid=fork();
  
  if(pid==0)//child
    {
     write(fds[1],msg1,strlen(msg1)); sleep(1);
     write(fds[1],msg2,strlen(msg2)); sleep(1);
     write(fds[1],msg3,strlen(msg3)); sleep(1);
    }
    else//parent
    { 
     while(read(fds[0],buf,20)!=-1)
     printf("%s\n",buf);
    }
  
}

